<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.9.1"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>libfluidsynth: Voice Manipulation</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="resize.js"></script>
<script type="text/javascript" src="navtreedata.js"></script>
<script type="text/javascript" src="navtree.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
<link href="custom.css" rel="stylesheet" type="text/css"/>
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">libfluidsynth
   &#160;<span id="projectnumber">2.4.6</span>
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.9.1 -->
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
var searchBox = new SearchBox("searchBox", "search",false,'Search','.html');
/* @license-end */
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
$(function() {
  initMenu('',true,false,'search.php','Search');
  $(document).ready(function() { init_search(); });
});
/* @license-end */</script>
<div id="main-nav"></div>
</div><!-- top -->
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
      <div id="nav-sync" class="sync"></div>
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
$(document).ready(function(){initNavTree('group__voices.html',''); initResizable(); });
/* @license-end */
</script>
<div id="doc-content">
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div class="header">
  <div class="summary">
<a href="#enum-members">Enumerations</a> &#124;
<a href="#func-members">Functions</a>  </div>
  <div class="headertitle">
<div class="title">Voice Manipulation<div class="ingroups"><a class="el" href="group__soundfonts.html">SoundFonts</a></div></div>  </div>
</div><!--header-->
<div class="contents">

<p>Synthesis voice manipulation functions.  
<a href="#details">More...</a></p>
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="enum-members"></a>
Enumerations</h2></td></tr>
<tr class="memitem:gaac296fe3c3d6930261b9ead8afe4db2b"><td class="memItemLeft" align="right" valign="top">enum &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__voices.html#gaac296fe3c3d6930261b9ead8afe4db2b">fluid_voice_add_mod</a> { <br />
&#160;&#160;<a class="el" href="group__voices.html#ggaac296fe3c3d6930261b9ead8afe4db2ba0fe2e3c967922afa7c61990a4a5d01e4">FLUID_VOICE_OVERWRITE</a>
, <br />
&#160;&#160;<a class="el" href="group__voices.html#ggaac296fe3c3d6930261b9ead8afe4db2baed44612d36459a1254b7ab6f34576a72">FLUID_VOICE_ADD</a>
, <br />
&#160;&#160;<a class="el" href="group__voices.html#ggaac296fe3c3d6930261b9ead8afe4db2bab6a4717eb5a5f1adc30f89843a0bac4d">FLUID_VOICE_DEFAULT</a>
<br />
 }</td></tr>
<tr class="memdesc:gaac296fe3c3d6930261b9ead8afe4db2b"><td class="mdescLeft">&#160;</td><td class="mdescRight">Enum used with <a class="el" href="group__voices.html#gaac296fe3c3d6930261b9ead8afe4db2b" title="Enum used with fluid_voice_add_mod() to specify how to handle duplicate modulators.">fluid_voice_add_mod()</a> to specify how to handle duplicate modulators.  <a href="group__voices.html#gaac296fe3c3d6930261b9ead8afe4db2b">More...</a><br /></td></tr>
<tr class="separator:gaac296fe3c3d6930261b9ead8afe4db2b"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="func-members"></a>
Functions</h2></td></tr>
<tr class="memitem:ga5a6cdf732d2679a5c23fc12be6041dc7"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__voices.html#ga5a6cdf732d2679a5c23fc12be6041dc7">fluid_voice_add_mod</a> (<a class="el" href="group__Types.html#ga5123ae5ef2d7806475267380c33604c3">fluid_voice_t</a> *voice, <a class="el" href="group__Types.html#ga6c727efab500d6c0c350d4292e9aa5ef">fluid_mod_t</a> *mod, int mode)</td></tr>
<tr class="memdesc:ga5a6cdf732d2679a5c23fc12be6041dc7"><td class="mdescLeft">&#160;</td><td class="mdescRight">Adds a modulator to the voice if the modulator has valid sources.  <a href="group__voices.html#ga5a6cdf732d2679a5c23fc12be6041dc7">More...</a><br /></td></tr>
<tr class="separator:ga5a6cdf732d2679a5c23fc12be6041dc7"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga3590f1d0dd908164148c21566de04449"><td class="memItemLeft" align="right" valign="top">float&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__voices.html#ga3590f1d0dd908164148c21566de04449">fluid_voice_gen_get</a> (<a class="el" href="group__Types.html#ga5123ae5ef2d7806475267380c33604c3">fluid_voice_t</a> *voice, int gen)</td></tr>
<tr class="memdesc:ga3590f1d0dd908164148c21566de04449"><td class="mdescLeft">&#160;</td><td class="mdescRight">Get the value of a generator.  <a href="group__voices.html#ga3590f1d0dd908164148c21566de04449">More...</a><br /></td></tr>
<tr class="separator:ga3590f1d0dd908164148c21566de04449"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:gad2e7aac92c0a513b2b49e814b5da121a"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__voices.html#gad2e7aac92c0a513b2b49e814b5da121a">fluid_voice_gen_incr</a> (<a class="el" href="group__Types.html#ga5123ae5ef2d7806475267380c33604c3">fluid_voice_t</a> *voice, int gen, float val)</td></tr>
<tr class="memdesc:gad2e7aac92c0a513b2b49e814b5da121a"><td class="mdescLeft">&#160;</td><td class="mdescRight">Offset the value of a generator.  <a href="group__voices.html#gad2e7aac92c0a513b2b49e814b5da121a">More...</a><br /></td></tr>
<tr class="separator:gad2e7aac92c0a513b2b49e814b5da121a"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga67a1c47d542ac19c478cc9420aef4b39"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__voices.html#ga67a1c47d542ac19c478cc9420aef4b39">fluid_voice_gen_set</a> (<a class="el" href="group__Types.html#ga5123ae5ef2d7806475267380c33604c3">fluid_voice_t</a> *voice, int gen, float val)</td></tr>
<tr class="memdesc:ga67a1c47d542ac19c478cc9420aef4b39"><td class="mdescLeft">&#160;</td><td class="mdescRight">Set the value of a generator.  <a href="group__voices.html#ga67a1c47d542ac19c478cc9420aef4b39">More...</a><br /></td></tr>
<tr class="separator:ga67a1c47d542ac19c478cc9420aef4b39"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga8f09ff8d1d95e41d598e71cda13f463c"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__voices.html#ga8f09ff8d1d95e41d598e71cda13f463c">fluid_voice_get_actual_key</a> (const <a class="el" href="group__Types.html#ga5123ae5ef2d7806475267380c33604c3">fluid_voice_t</a> *voice)</td></tr>
<tr class="memdesc:ga8f09ff8d1d95e41d598e71cda13f463c"><td class="mdescLeft">&#160;</td><td class="mdescRight">Return the effective MIDI key of the playing voice.  <a href="group__voices.html#ga8f09ff8d1d95e41d598e71cda13f463c">More...</a><br /></td></tr>
<tr class="separator:ga8f09ff8d1d95e41d598e71cda13f463c"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga1bbdd5f27ad639e6bc9c8d7828c71c15"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__voices.html#ga1bbdd5f27ad639e6bc9c8d7828c71c15">fluid_voice_get_actual_velocity</a> (const <a class="el" href="group__Types.html#ga5123ae5ef2d7806475267380c33604c3">fluid_voice_t</a> *voice)</td></tr>
<tr class="memdesc:ga1bbdd5f27ad639e6bc9c8d7828c71c15"><td class="mdescLeft">&#160;</td><td class="mdescRight">Return the effective MIDI velocity of the playing voice.  <a href="group__voices.html#ga1bbdd5f27ad639e6bc9c8d7828c71c15">More...</a><br /></td></tr>
<tr class="separator:ga1bbdd5f27ad639e6bc9c8d7828c71c15"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga03fe11df7a42e940d76d4afed320e79f"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__voices.html#ga03fe11df7a42e940d76d4afed320e79f">fluid_voice_get_channel</a> (const <a class="el" href="group__Types.html#ga5123ae5ef2d7806475267380c33604c3">fluid_voice_t</a> *voice)</td></tr>
<tr class="memdesc:ga03fe11df7a42e940d76d4afed320e79f"><td class="mdescLeft">&#160;</td><td class="mdescRight">Return the MIDI channel the voice is playing on.  <a href="group__voices.html#ga03fe11df7a42e940d76d4afed320e79f">More...</a><br /></td></tr>
<tr class="separator:ga03fe11df7a42e940d76d4afed320e79f"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga5ab85d29ab6641a8a73f117e57749fe6"><td class="memItemLeft" align="right" valign="top">unsigned int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__voices.html#ga5ab85d29ab6641a8a73f117e57749fe6">fluid_voice_get_id</a> (const <a class="el" href="group__Types.html#ga5123ae5ef2d7806475267380c33604c3">fluid_voice_t</a> *voice)</td></tr>
<tr class="memdesc:ga5ab85d29ab6641a8a73f117e57749fe6"><td class="mdescLeft">&#160;</td><td class="mdescRight">Get the unique ID of the noteon-event.  <a href="group__voices.html#ga5ab85d29ab6641a8a73f117e57749fe6">More...</a><br /></td></tr>
<tr class="separator:ga5ab85d29ab6641a8a73f117e57749fe6"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga5572edece806b3714443f6228af3f912"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__voices.html#ga5572edece806b3714443f6228af3f912">fluid_voice_get_key</a> (const <a class="el" href="group__Types.html#ga5123ae5ef2d7806475267380c33604c3">fluid_voice_t</a> *voice)</td></tr>
<tr class="memdesc:ga5572edece806b3714443f6228af3f912"><td class="mdescLeft">&#160;</td><td class="mdescRight">Return the MIDI key from the starting noteon event.  <a href="group__voices.html#ga5572edece806b3714443f6228af3f912">More...</a><br /></td></tr>
<tr class="separator:ga5572edece806b3714443f6228af3f912"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga98f897bd3d11ace26cbd55f6fe84b74b"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__voices.html#ga98f897bd3d11ace26cbd55f6fe84b74b">fluid_voice_get_velocity</a> (const <a class="el" href="group__Types.html#ga5123ae5ef2d7806475267380c33604c3">fluid_voice_t</a> *voice)</td></tr>
<tr class="memdesc:ga98f897bd3d11ace26cbd55f6fe84b74b"><td class="mdescLeft">&#160;</td><td class="mdescRight">Return the MIDI velocity from the starting noteon event.  <a href="group__voices.html#ga98f897bd3d11ace26cbd55f6fe84b74b">More...</a><br /></td></tr>
<tr class="separator:ga98f897bd3d11ace26cbd55f6fe84b74b"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:gacceca9ccadecc12b4a05eed4613a9a2d"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__voices.html#gacceca9ccadecc12b4a05eed4613a9a2d">fluid_voice_is_on</a> (const <a class="el" href="group__Types.html#ga5123ae5ef2d7806475267380c33604c3">fluid_voice_t</a> *voice)</td></tr>
<tr class="memdesc:gacceca9ccadecc12b4a05eed4613a9a2d"><td class="mdescLeft">&#160;</td><td class="mdescRight">Check if a voice is ON.  <a href="group__voices.html#gacceca9ccadecc12b4a05eed4613a9a2d">More...</a><br /></td></tr>
<tr class="separator:gacceca9ccadecc12b4a05eed4613a9a2d"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga479c09c91d4f3857bf9ad148ccd12015"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__voices.html#ga479c09c91d4f3857bf9ad148ccd12015">fluid_voice_is_playing</a> (const <a class="el" href="group__Types.html#ga5123ae5ef2d7806475267380c33604c3">fluid_voice_t</a> *voice)</td></tr>
<tr class="memdesc:ga479c09c91d4f3857bf9ad148ccd12015"><td class="mdescLeft">&#160;</td><td class="mdescRight">Check if a voice is producing sound.  <a href="group__voices.html#ga479c09c91d4f3857bf9ad148ccd12015">More...</a><br /></td></tr>
<tr class="separator:ga479c09c91d4f3857bf9ad148ccd12015"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga775ad28592d7d23a068fd371b899361d"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__voices.html#ga775ad28592d7d23a068fd371b899361d">fluid_voice_is_sostenuto</a> (const <a class="el" href="group__Types.html#ga5123ae5ef2d7806475267380c33604c3">fluid_voice_t</a> *voice)</td></tr>
<tr class="memdesc:ga775ad28592d7d23a068fd371b899361d"><td class="mdescLeft">&#160;</td><td class="mdescRight">Check if a voice keeps playing after it has received a noteoff due to being held by sostenuto.  <a href="group__voices.html#ga775ad28592d7d23a068fd371b899361d">More...</a><br /></td></tr>
<tr class="separator:ga775ad28592d7d23a068fd371b899361d"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga964a701c23cd275b129337dc47edf35b"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__voices.html#ga964a701c23cd275b129337dc47edf35b">fluid_voice_is_sustained</a> (const <a class="el" href="group__Types.html#ga5123ae5ef2d7806475267380c33604c3">fluid_voice_t</a> *voice)</td></tr>
<tr class="memdesc:ga964a701c23cd275b129337dc47edf35b"><td class="mdescLeft">&#160;</td><td class="mdescRight">Check if a voice keeps playing after it has received a noteoff due to being held by sustain.  <a href="group__voices.html#ga964a701c23cd275b129337dc47edf35b">More...</a><br /></td></tr>
<tr class="separator:ga964a701c23cd275b129337dc47edf35b"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:gae3454565b0610385c4fe852561884be6"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__voices.html#gae3454565b0610385c4fe852561884be6">fluid_voice_optimize_sample</a> (<a class="el" href="group__Types.html#gabf9174d452679ca1a4ee7d693fb773cf">fluid_sample_t</a> *s)</td></tr>
<tr class="memdesc:gae3454565b0610385c4fe852561884be6"><td class="mdescLeft">&#160;</td><td class="mdescRight">Calculate the peak volume of a sample for voice off optimization.  <a href="group__voices.html#gae3454565b0610385c4fe852561884be6">More...</a><br /></td></tr>
<tr class="separator:gae3454565b0610385c4fe852561884be6"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga78b0ae83ca6dc9e758fd93764bb234fe"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__voices.html#ga78b0ae83ca6dc9e758fd93764bb234fe">fluid_voice_update_param</a> (<a class="el" href="group__Types.html#ga5123ae5ef2d7806475267380c33604c3">fluid_voice_t</a> *voice, int gen)</td></tr>
<tr class="memdesc:ga78b0ae83ca6dc9e758fd93764bb234fe"><td class="mdescLeft">&#160;</td><td class="mdescRight">Update all the synthesis parameters which depend on generator <em>gen</em>.  <a href="group__voices.html#ga78b0ae83ca6dc9e758fd93764bb234fe">More...</a><br /></td></tr>
<tr class="separator:ga78b0ae83ca6dc9e758fd93764bb234fe"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<a name="details" id="details"></a><h2 class="groupheader">Detailed Description</h2>
<p>Synthesis voice manipulation functions. </p>
<p>The interface to the synthesizer's voices. Examples on using them can be found in the source code of the default SoundFont loader (fluid_defsfont.c).</p>
<p>Most of these functions should only be called from within synthesis context, such as the SoundFont loader's noteon method. </p>
<h2 class="groupheader">Enumeration Type Documentation</h2>
<a id="gaac296fe3c3d6930261b9ead8afe4db2b"></a>
<h2 class="memtitle"><span class="permalink"><a href="#gaac296fe3c3d6930261b9ead8afe4db2b">&#9670;&nbsp;</a></span>fluid_voice_add_mod</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">enum <a class="el" href="group__voices.html#gaac296fe3c3d6930261b9ead8afe4db2b">fluid_voice_add_mod</a></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Enum used with <a class="el" href="group__voices.html#gaac296fe3c3d6930261b9ead8afe4db2b" title="Enum used with fluid_voice_add_mod() to specify how to handle duplicate modulators.">fluid_voice_add_mod()</a> to specify how to handle duplicate modulators. </p>
<table class="fieldtable">
<tr><th colspan="2">Enumerator</th></tr><tr><td class="fieldname"><a id="ggaac296fe3c3d6930261b9ead8afe4db2ba0fe2e3c967922afa7c61990a4a5d01e4"></a>FLUID_VOICE_OVERWRITE&#160;</td><td class="fielddoc"><p>Overwrite any existing matching modulator. </p>
</td></tr>
<tr><td class="fieldname"><a id="ggaac296fe3c3d6930261b9ead8afe4db2baed44612d36459a1254b7ab6f34576a72"></a>FLUID_VOICE_ADD&#160;</td><td class="fielddoc"><p>Add (sum) modulator amounts. </p>
</td></tr>
<tr><td class="fieldname"><a id="ggaac296fe3c3d6930261b9ead8afe4db2bab6a4717eb5a5f1adc30f89843a0bac4d"></a>FLUID_VOICE_DEFAULT&#160;</td><td class="fielddoc"><p>For default modulators only, no need to check for duplicates. </p>
</td></tr>
</table>

</div>
</div>
<h2 class="groupheader">Function Documentation</h2>
<a id="ga5a6cdf732d2679a5c23fc12be6041dc7"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ga5a6cdf732d2679a5c23fc12be6041dc7">&#9670;&nbsp;</a></span>fluid_voice_add_mod()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void <a class="el" href="group__voices.html#gaac296fe3c3d6930261b9ead8afe4db2b">fluid_voice_add_mod</a> </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="group__Types.html#ga5123ae5ef2d7806475267380c33604c3">fluid_voice_t</a> *&#160;</td>
          <td class="paramname"><em>voice</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="group__Types.html#ga6c727efab500d6c0c350d4292e9aa5ef">fluid_mod_t</a> *&#160;</td>
          <td class="paramname"><em>mod</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>mode</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Adds a modulator to the voice if the modulator has valid sources. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">voice</td><td>Voice instance. </td></tr>
    <tr><td class="paramname">mod</td><td>Modulator info (copied). </td></tr>
    <tr><td class="paramname">mode</td><td>Determines how to handle an existing identical modulator. <a class="el" href="group__voices.html#ggaac296fe3c3d6930261b9ead8afe4db2baed44612d36459a1254b7ab6f34576a72" title="Add (sum) modulator amounts.">FLUID_VOICE_ADD</a> to add (offset) the modulator amounts, <a class="el" href="group__voices.html#ggaac296fe3c3d6930261b9ead8afe4db2ba0fe2e3c967922afa7c61990a4a5d01e4" title="Overwrite any existing matching modulator.">FLUID_VOICE_OVERWRITE</a> to replace the modulator, <a class="el" href="group__voices.html#ggaac296fe3c3d6930261b9ead8afe4db2bab6a4717eb5a5f1adc30f89843a0bac4d" title="For default modulators only, no need to check for duplicates.">FLUID_VOICE_DEFAULT</a> when adding a default modulator - no duplicate should exist so don't check. </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="ga3590f1d0dd908164148c21566de04449"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ga3590f1d0dd908164148c21566de04449">&#9670;&nbsp;</a></span>fluid_voice_gen_get()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">float fluid_voice_gen_get </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="group__Types.html#ga5123ae5ef2d7806475267380c33604c3">fluid_voice_t</a> *&#160;</td>
          <td class="paramname"><em>voice</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>gen</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Get the value of a generator. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">voice</td><td>Voice instance </td></tr>
    <tr><td class="paramname">gen</td><td>Generator ID (<a class="el" href="group__generators.html#gad17a24ae3b25f3b8cc5762f818eef9b4" title="Generator (effect) numbers (Soundfont 2.01 specifications section 8.1.3)">fluid_gen_type</a>) </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>Current generator value </dd></dl>

</div>
</div>
<a id="gad2e7aac92c0a513b2b49e814b5da121a"></a>
<h2 class="memtitle"><span class="permalink"><a href="#gad2e7aac92c0a513b2b49e814b5da121a">&#9670;&nbsp;</a></span>fluid_voice_gen_incr()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void fluid_voice_gen_incr </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="group__Types.html#ga5123ae5ef2d7806475267380c33604c3">fluid_voice_t</a> *&#160;</td>
          <td class="paramname"><em>voice</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>i</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">float&#160;</td>
          <td class="paramname"><em>val</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Offset the value of a generator. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">voice</td><td>Voice instance </td></tr>
    <tr><td class="paramname">i</td><td>Generator ID (<a class="el" href="group__generators.html#gad17a24ae3b25f3b8cc5762f818eef9b4" title="Generator (effect) numbers (Soundfont 2.01 specifications section 8.1.3)">fluid_gen_type</a>) </td></tr>
    <tr><td class="paramname">val</td><td>Value to add to the existing value </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="ga67a1c47d542ac19c478cc9420aef4b39"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ga67a1c47d542ac19c478cc9420aef4b39">&#9670;&nbsp;</a></span>fluid_voice_gen_set()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void fluid_voice_gen_set </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="group__Types.html#ga5123ae5ef2d7806475267380c33604c3">fluid_voice_t</a> *&#160;</td>
          <td class="paramname"><em>voice</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>i</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">float&#160;</td>
          <td class="paramname"><em>val</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Set the value of a generator. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">voice</td><td>Voice instance </td></tr>
    <tr><td class="paramname">i</td><td>Generator ID (<a class="el" href="group__generators.html#gad17a24ae3b25f3b8cc5762f818eef9b4" title="Generator (effect) numbers (Soundfont 2.01 specifications section 8.1.3)">fluid_gen_type</a>) </td></tr>
    <tr><td class="paramname">val</td><td>Generator value </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="ga8f09ff8d1d95e41d598e71cda13f463c"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ga8f09ff8d1d95e41d598e71cda13f463c">&#9670;&nbsp;</a></span>fluid_voice_get_actual_key()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int fluid_voice_get_actual_key </td>
          <td>(</td>
          <td class="paramtype">const <a class="el" href="group__Types.html#ga5123ae5ef2d7806475267380c33604c3">fluid_voice_t</a> *&#160;</td>
          <td class="paramname"><em>voice</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Return the effective MIDI key of the playing voice. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">voice</td><td>Voice instance </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>The MIDI key this voice is playing at</dd></dl>
<p>If the voice was started from an instrument which uses a fixed key generator, it returns that. Otherwise returns the same value as <code>fluid_voice_get_key</code>.</p>
<dl class="section note"><dt>Note</dt><dd>The result of this function is only valid if the voice is playing.</dd></dl>
<dl class="section since"><dt>Since</dt><dd>1.1.7 </dd></dl>

</div>
</div>
<a id="ga1bbdd5f27ad639e6bc9c8d7828c71c15"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ga1bbdd5f27ad639e6bc9c8d7828c71c15">&#9670;&nbsp;</a></span>fluid_voice_get_actual_velocity()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int fluid_voice_get_actual_velocity </td>
          <td>(</td>
          <td class="paramtype">const <a class="el" href="group__Types.html#ga5123ae5ef2d7806475267380c33604c3">fluid_voice_t</a> *&#160;</td>
          <td class="paramname"><em>voice</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Return the effective MIDI velocity of the playing voice. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">voice</td><td>Voice instance </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>The MIDI velocity this voice is playing at</dd></dl>
<p>If the voice was started from an instrument which uses a fixed velocity generator, it returns that. Otherwise it returns the same value as <code>fluid_voice_get_velocity</code>.</p>
<dl class="section note"><dt>Note</dt><dd>The result of this function is only valid if the voice is playing.</dd></dl>
<dl class="section since"><dt>Since</dt><dd>1.1.7 </dd></dl>

</div>
</div>
<a id="ga03fe11df7a42e940d76d4afed320e79f"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ga03fe11df7a42e940d76d4afed320e79f">&#9670;&nbsp;</a></span>fluid_voice_get_channel()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int fluid_voice_get_channel </td>
          <td>(</td>
          <td class="paramtype">const <a class="el" href="group__Types.html#ga5123ae5ef2d7806475267380c33604c3">fluid_voice_t</a> *&#160;</td>
          <td class="paramname"><em>voice</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Return the MIDI channel the voice is playing on. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">voice</td><td>Voice instance </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>The channel assigned to this voice</dd></dl>
<dl class="section note"><dt>Note</dt><dd>The result of this function is only valid if the voice is playing.</dd></dl>
<dl class="section since"><dt>Since</dt><dd>1.1.7 </dd></dl>

</div>
</div>
<a id="ga5ab85d29ab6641a8a73f117e57749fe6"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ga5ab85d29ab6641a8a73f117e57749fe6">&#9670;&nbsp;</a></span>fluid_voice_get_id()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">unsigned int fluid_voice_get_id </td>
          <td>(</td>
          <td class="paramtype">const <a class="el" href="group__Types.html#ga5123ae5ef2d7806475267380c33604c3">fluid_voice_t</a> *&#160;</td>
          <td class="paramname"><em>voice</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Get the unique ID of the noteon-event. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">voice</td><td>Voice instance </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>Note on unique ID</dd></dl>
<p>A SoundFont loader may store pointers to voices it has created for real-time control during the operation of a voice (for example: parameter changes in SoundFont editor). The synth uses a pool of voices internally which are 'recycled' and never deallocated.</p>
<p>However, before modifying an existing voice, check</p><ul>
<li>that its state is still 'playing'</li>
<li>that the ID is still the same</li>
</ul>
<p>Otherwise the voice has finished playing. </p>

</div>
</div>
<a id="ga5572edece806b3714443f6228af3f912"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ga5572edece806b3714443f6228af3f912">&#9670;&nbsp;</a></span>fluid_voice_get_key()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int fluid_voice_get_key </td>
          <td>(</td>
          <td class="paramtype">const <a class="el" href="group__Types.html#ga5123ae5ef2d7806475267380c33604c3">fluid_voice_t</a> *&#160;</td>
          <td class="paramname"><em>voice</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Return the MIDI key from the starting noteon event. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">voice</td><td>Voice instance </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>The MIDI key of the noteon event that originally turned on this voice</dd></dl>
<dl class="section note"><dt>Note</dt><dd>The result of this function is only valid if the voice is playing.</dd></dl>
<dl class="section since"><dt>Since</dt><dd>1.1.7 </dd></dl>

</div>
</div>
<a id="ga98f897bd3d11ace26cbd55f6fe84b74b"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ga98f897bd3d11ace26cbd55f6fe84b74b">&#9670;&nbsp;</a></span>fluid_voice_get_velocity()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int fluid_voice_get_velocity </td>
          <td>(</td>
          <td class="paramtype">const <a class="el" href="group__Types.html#ga5123ae5ef2d7806475267380c33604c3">fluid_voice_t</a> *&#160;</td>
          <td class="paramname"><em>voice</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Return the MIDI velocity from the starting noteon event. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">voice</td><td>Voice instance </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>The MIDI velocity which originally turned on this voice</dd></dl>
<dl class="section note"><dt>Note</dt><dd>The result of this function is only valid if the voice is playing.</dd></dl>
<dl class="section since"><dt>Since</dt><dd>1.1.7 </dd></dl>

</div>
</div>
<a id="gacceca9ccadecc12b4a05eed4613a9a2d"></a>
<h2 class="memtitle"><span class="permalink"><a href="#gacceca9ccadecc12b4a05eed4613a9a2d">&#9670;&nbsp;</a></span>fluid_voice_is_on()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int fluid_voice_is_on </td>
          <td>(</td>
          <td class="paramtype">const <a class="el" href="group__Types.html#ga5123ae5ef2d7806475267380c33604c3">fluid_voice_t</a> *&#160;</td>
          <td class="paramname"><em>voice</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Check if a voice is ON. </p>
<p>A voice is in ON state as soon as a call to <a class="el" href="group__voice__control.html#ga059afeace88b39329fb48e0da8afa1f3" title="Activate a voice previously allocated with fluid_synth_alloc_voice().">fluid_synth_start_voice()</a> has been made (which is typically done in a fluid_preset_t's noteon function). A voice stays ON as long as it has not received a noteoff event.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">voice</td><td>Voice instance </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>TRUE if on, FALSE otherwise</dd></dl>
<dl class="section since"><dt>Since</dt><dd>1.1.7 </dd></dl>

</div>
</div>
<a id="ga479c09c91d4f3857bf9ad148ccd12015"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ga479c09c91d4f3857bf9ad148ccd12015">&#9670;&nbsp;</a></span>fluid_voice_is_playing()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int fluid_voice_is_playing </td>
          <td>(</td>
          <td class="paramtype">const <a class="el" href="group__Types.html#ga5123ae5ef2d7806475267380c33604c3">fluid_voice_t</a> *&#160;</td>
          <td class="paramname"><em>voice</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Check if a voice is producing sound. </p>
<p>Like <a class="el" href="group__voices.html#gacceca9ccadecc12b4a05eed4613a9a2d" title="Check if a voice is ON.">fluid_voice_is_on()</a> this will return TRUE once a call to <a class="el" href="group__voice__control.html#ga059afeace88b39329fb48e0da8afa1f3" title="Activate a voice previously allocated with fluid_synth_alloc_voice().">fluid_synth_start_voice()</a> has been made. Contrary to <a class="el" href="group__voices.html#gacceca9ccadecc12b4a05eed4613a9a2d" title="Check if a voice is ON.">fluid_voice_is_on()</a>, this might also return TRUE after the voice received a noteoff event, as it may still be playing in release phase, or because it has been sustained or sostenuto'ed.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">voice</td><td>Voice instance </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>TRUE if playing, FALSE otherwise </dd></dl>

</div>
</div>
<a id="ga775ad28592d7d23a068fd371b899361d"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ga775ad28592d7d23a068fd371b899361d">&#9670;&nbsp;</a></span>fluid_voice_is_sostenuto()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int fluid_voice_is_sostenuto </td>
          <td>(</td>
          <td class="paramtype">const <a class="el" href="group__Types.html#ga5123ae5ef2d7806475267380c33604c3">fluid_voice_t</a> *&#160;</td>
          <td class="paramname"><em>voice</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Check if a voice keeps playing after it has received a noteoff due to being held by sostenuto. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">voice</td><td>Voice instance </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>TRUE if sostenuto, FALSE otherwise</dd></dl>
<dl class="section since"><dt>Since</dt><dd>1.1.7 </dd></dl>

</div>
</div>
<a id="ga964a701c23cd275b129337dc47edf35b"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ga964a701c23cd275b129337dc47edf35b">&#9670;&nbsp;</a></span>fluid_voice_is_sustained()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int fluid_voice_is_sustained </td>
          <td>(</td>
          <td class="paramtype">const <a class="el" href="group__Types.html#ga5123ae5ef2d7806475267380c33604c3">fluid_voice_t</a> *&#160;</td>
          <td class="paramname"><em>voice</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Check if a voice keeps playing after it has received a noteoff due to being held by sustain. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">voice</td><td>Voice instance </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>TRUE if sustained, FALSE otherwise</dd></dl>
<dl class="section since"><dt>Since</dt><dd>1.1.7 </dd></dl>

</div>
</div>
<a id="gae3454565b0610385c4fe852561884be6"></a>
<h2 class="memtitle"><span class="permalink"><a href="#gae3454565b0610385c4fe852561884be6">&#9670;&nbsp;</a></span>fluid_voice_optimize_sample()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int fluid_voice_optimize_sample </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="group__Types.html#gabf9174d452679ca1a4ee7d693fb773cf">fluid_sample_t</a> *&#160;</td>
          <td class="paramname"><em>s</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Calculate the peak volume of a sample for voice off optimization. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">s</td><td>Sample to optimize </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd><a class="el" href="group__misc.html#gae4efb1c3ce0d550c922504adfb0fb886" title="Value that indicates success, used by most libfluidsynth functions.">FLUID_OK</a> on success, <a class="el" href="group__misc.html#ga90e8bdbc5a507bbfa5c45bac85a63a61" title="Value that indicates failure, used by most libfluidsynth functions.">FLUID_FAILED</a> otherwise</dd></dl>
<p>If the peak volume during the loop is known, then the voice can be released earlier during the release phase. Otherwise, the voice will operate (inaudibly), until the envelope is at the nominal turnoff point. So it's a good idea to call <a class="el" href="group__voices.html#gae3454565b0610385c4fe852561884be6" title="Calculate the peak volume of a sample for voice off optimization.">fluid_voice_optimize_sample()</a> on each sample once. </p>

</div>
</div>
<a id="ga78b0ae83ca6dc9e758fd93764bb234fe"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ga78b0ae83ca6dc9e758fd93764bb234fe">&#9670;&nbsp;</a></span>fluid_voice_update_param()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void fluid_voice_update_param </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="group__Types.html#ga5123ae5ef2d7806475267380c33604c3">fluid_voice_t</a> *&#160;</td>
          <td class="paramname"><em>voice</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>gen</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Update all the synthesis parameters which depend on generator <em>gen</em>. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">voice</td><td>Voice instance </td></tr>
    <tr><td class="paramname">gen</td><td>Generator id (<a class="el" href="group__generators.html#gad17a24ae3b25f3b8cc5762f818eef9b4" title="Generator (effect) numbers (Soundfont 2.01 specifications section 8.1.3)">fluid_gen_type</a>)</td></tr>
  </table>
  </dd>
</dl>
<p>Calling this function is only necessary after changing a generator of an already playing voice. </p>

</div>
</div>
</div><!-- contents -->
</div><!-- doc-content -->
</body>
</html>
